<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dragyrs - О нас</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #1e1e1e;
            color: #d0d0d0;
        }

        nav {
            background: linear-gradient(45deg, #cc0000, #d94008);
            padding: 10px;
            text-align: center;
        }

        nav a {
            color: white;
            text-decoration: none;
            margin: 0 15px;
            padding: 10px 20px;
            display: inline-block;
            border-radius: 5px;
            transition: background 0.3s;
        }

        nav a:hover {
            background-color: #b30000;
        }

        .header {
            padding: 20px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5em;
            color: #fff;
            background: -webkit-linear-gradient(left, #cc0000, #d94008);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 20px;
        }

        .summary {
            background-color: #333;
            padding: 20px;
            margin: 20px auto;
            max-width: 700px;
            border-radius: 10px;
            text-align: center;
            color: #fff;
        }

        .team-member {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin: 40px auto;
            max-width: 1200px;
            padding: 20px;
            background-color: #282828;
            border-radius: 10px;
        }

        .team-member:nth-child(even) {
            flex-direction: row-reverse;
        }

        /* Контейнеры для моделей */
        .model-container {
            width: 400px;
            height: 400px;
            border-radius: 10px;
            background: transparent;
        }

        .team-member div {
            flex: 1;
            margin: 0 20px;
        }

        .team-member h2 {
            font-size: 2em;
            margin-bottom: 10px;
            transition: transform 0.2s;
            background-clip: text;
            -webkit-background-clip: text;
            background-size: 200% 200%;
        }

        .team-member h2:hover {
            transform: translateY(-10px) scale(1.07);
        }

        .team-member p {
            font-size: 1.2em;
            line-height: 1.6;
            color: #d0d0d0;
        }

        .team-member:nth-child(odd) div {
            text-align: left;
        }

        .team-member:nth-child(even) div {
            text-align: right;
        }

        .team-member:nth-child(odd) .model-container {
            order: 2;
        }

        .team-member:nth-child(even) .model-container {
            order: 1;
        }

    </style>
</head>
<body>
    <nav>
        <a href="index.html">Главная</a>
        <a href="history.html">История</a>
        <a href="about.html">О нас</a>
        <a href="projects.html">Проекты</a>
    </nav>

    <div class="header">
        <h1>Наша команда</h1>
    </div>

    <div class="summary">
        <p>Команда Dragyrs собиралась с 2018 года из разных людей с разных стран и с разными обстоятельствами, но даже так наш коллектив достаточно дружен, и в нём полно творческих личностей. Мы можем помочь тебе с техническими задачами в плане дизайна, а также составить компанию на вечер.</p>
    </div>

    <div class="team-member">
        <div class="model-container" id="model-dragoneron"></div>
        <div>
            <h2 style="color: #b60000;">Dragoneron</h2>
            <p>Dragoneron — Лидер сервера и основатель команды Dragyrs...</p>
        </div>
    </div>

    <div class="team-member">
        <div>
            <h2 style="color: #1E3D59;">Moldawnik</h2>
            <p>Известный большинству как Денис, Moldawnik присоединился к коллективу 2 сентября 2019 года...</p>
        </div>
        <div class="model-container" id="model-moldawnik"></div>
    </div>

    <div class="team-member">
        <div class="model-container" id="model-c1sta"></div>
        <div>
            <h2 style="color: #8B4513;">C1sta</h2>
            <p>Медведь — один из первых участников в нашем коллективе...</p>
        </div>
    </div>

    <div class="team-member">
        <div>
            <h2 style="color: #f6a05b;">Rimx</h2>
            <p>Rimx присоединился к коллективу еще до 2019 года...</p>
        </div>
        <div class="model-container" id="model-rimx"></div>
    </div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
<script src="https://cdn.jsdelivr.net/gh/mrdoob/three.js@r128/examples/js/controls/OrbitControls.js"></script>
<script src="https://cdn.jsdelivr.net/gh/mrdoob/three.js@r128/examples/js/loaders/GLTFLoader.js"></script>
<script src="https://cdn.jsdelivr.net/gh/mrdoob/three.js@r128/examples/js/loaders/DDSLoader.js"></script>
<script>
    const modelContainers = [
        { id: 'model-dragoneron', texture: 'textures/dragoneron.png' },
        { id: 'model-moldawnik', texture: 'textures/moldawnik.png' },
        { id: 'model-c1sta', texture: 'textures/c1sta.png' },
        { id: 'model-rimx', texture: 'textures/rimx.png' }
    ];

    modelContainers.forEach(container => {
        const scene = new THREE.Scene();
        const camera = new THREE.PerspectiveCamera(75, 1, 0.1, 1000);
        const renderer = new THREE.WebGLRenderer({ alpha: true }); // Прозрачный фон

        const element = document.getElementById(container.id);
        renderer.setSize(element.clientWidth, element.clientHeight);
        element.appendChild(renderer.domElement);

        const controls = new THREE.OrbitControls(camera, renderer.domElement);
        controls.enableZoom = false;
        controls.enablePan = false; 

        let targetRotation = new THREE.Vector3();
        let rotationSpeed = 0.05;
        let dampingFactor = 0.1; // 

        function updateRotation() {
                    model.rotation.x += (targetRotation.x - model.rotation.x) * dampingFactor;
                    model.rotation.y += (targetRotation.y - model.rotation.y) * dampingFactor;
                    model.rotation.z += (targetRotation.z - model.rotation.z) * dampingFactor;
            controls.addEventListener('change', () => {
                    targetRotation.x = model.rotation.x;
                    targetRotation.y = model.rotation.y;
                    targetRotation.z = model.rotation.z;
        
        const loader = new THREE.GLTFLoader();
        loader.load('3d/scene.gltf', function(gltf) {
            const model = gltf.scene;

            // Загрузка текстуры для каждой модели
            const textureLoader = new THREE.TextureLoader();
            const texture = textureLoader.load(container.texture, (texture) => {
                // Настройки фильтрации текстуры для улучшения качества
                texture.minFilter = THREE.NearestFilter;
                texture.magFilter = THREE.NearestFilter;
                texture.encoding = THREE.sRGBEncoding;
                // текстуру к модели
                model.scale.set(10, 10, 10);
                model.traverse(node => {
                    if (node.isMesh) {
                        node.material.map = texture;
                        node.material.needsUpdate = true;
                    }
                });
            });

            scene.add(model);
        });
        
        // источники света
        const light = new THREE.AmbientLight(0x404040); // Мягкий свет
        scene.add(light);

        const directionalLight = new THREE.DirectionalLight(0xffffff, 0.5);
        directionalLight.position.set(0, 1, 0);
        scene.add(directionalLight);

        // Настройка камеры
        camera.position.z = 12;
        camera.position.y = 25; // Положение камеры по Y (высота)
        camera.lookAt(new THREE.Vector3(0, 1, 0)); // Направляем камеру на модель

        function animate() {
            requestAnimationFrame(animate);
            controls.update();
            renderer.render(scene, camera);
        }
        animate();

        // Обновляем размеры рендерера при изменении размера окна
        window.addEventListener('resize', () => {
            const width = element.clientWidth;
            const height = element.clientHeight;
            renderer.setSize(width, height);
            camera.aspect = width / height;
            camera.updateProjectionMatrix();

            const scaleInput = document.createElement('input');
            scaleInput.type = 'range';
            scaleInput.min = '0.1';
            scaleInput.max = '5';
            scaleInput.step = '0.1';
            scaleInput.value = '1';
            scaleInput.style.position = 'absolute';
            scaleInput.style.top = '10px';
            scaleInput.style.left = '10px';
            scaleInput.style.zIndex = '10';
            document.body.appendChild(scaleInput);

            scaleInput.addEventListener('input', () => {
                const scaleValue = parseFloat(scaleInput.value);
                model.scale.set(scaleValue, scaleValue, scaleValue);
        });
    });
</script>

</body>
</html>
